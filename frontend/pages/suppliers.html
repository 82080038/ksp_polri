<!DOCTYPE html>
<html>

<head>
    <title>Suppliers - KSP POLRI</title>
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; font-src 'self' data: https://fonts.gstatic.com; connect-src 'self' https://cdn.jsdelivr.net; img-src 'self' data:">
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <h2>Daftar Supplier</h2>
    <div id="supplierList"></div>

    <script src="../assets/js/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            loadSuppliers();

            function loadSuppliers() {
                $.get('../../backend/public/index.php?path=supplier/list', function (data) {
                    if (data.status) {
                        let html = '<table><tr><th>Nama Perusahaan</th><th>Kategori</th><th>Telepon</th><th>Email</th></tr>';
                        data.data.forEach(s => {
                            html += `<tr><td>${s.nama_perusahaan}</td><td>${s.kategori}</td><td>${s.telepon}</td><td>${s.email}</td></tr>`;
                        });
                        html += '</table>';
                        $('#supplierList').html(html);
                    }
                }, 'json');
            }
        });
    </script>
</body>

</html>